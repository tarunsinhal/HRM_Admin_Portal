{% extends 'home/base.html' %}
{% load static %}
{% load webpush_notifications %}
{% block title %} Home {% endblock title %}


{% block style %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
  .custombtn{
    background-color: #5f4266;
    color: white;
    padding: 10px;
  }
  .custombtn:hover{
    background-color: #5f4266;
    color: white;
    padding: 10px;
  }
  .lab{
    font-weight: bold;
  }
  .form-control{
    margin-top: 10px;
    margin-bottom: 10px;
  }
</style>


{% endblock style %}


{% block content %}

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Create Profile</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form method="POST">
        {% csrf_token %}

        <div class="modal-body">
          {% for field in form %} 
              {% if field.name == 'password1' or field.name == 'password2' %}
              {% else %}
                <span class='lab'>
                  {% if field.name == 'username' %}
                  {{ field.label_tag }} (No Spaces Allowed)
                  {% else %}  
                  {{ field.label_tag }}
                  {% endif %}
                </span>
                {{field}}
              {% endif %}
           {% endfor %}
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn custombtn">Create</button>
        </div>
      </form>
    </div>
  </div>
</div>


<div class="container">

  {% if request.user.is_superuser %}

  {% if messages %}
  <div class="row">
    <div class="col-12">
      {% for message in messages %}
      <div class="alert alert-success">{{message}}</div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <div class="row mt-2">
    <div class="col-8">

    </div>
    <div class="col-2">
      <a href="{% url 'home:profile' %}">
        <button class="btn m-1"><i class="fa fa-users fa-lg"></i><span class='p-1'>Manage Users</span></button>
      </a>
    </div>
    <div class="col-2">
      <a href="/" data-bs-toggle="modal" data-bs-target="#exampleModal">
        <button class="btn m-1"><i class="fa fa-user-plus fa-lg"></i><span class='p-1'>Create Users</span></button>
      </a>
    </div>
    
  </div>
</div>
{% else %}

<div class="row mt-2">
  <div class="col-8">

  </div>
  <div class="col-2"> </div>
  <div class="col-2">
    <a href="{% url 'home:user_update' user.id %}">
      <button class="btn m-1"><i class="fa fa-users fa-lg"></i><span class='p-1'>Update Profile</span></button>
    </a>
  </div>
</div>


{% endif %}

<!-- <span style="margin: 10px;">
  {% webpush_button with_class="btn btn-outline-secondary" %}
</span> -->

{% endblock content %}


{% block addextra %}
<script src="https://unpkg.com/ionicons@5.0.0/dist/ionicons.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

{% endblock addextra %}